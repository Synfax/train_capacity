<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.353">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Paul S">
<meta name="dcterms.date" content="2024-06-06">

<title>Full Station Rankings</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="rankings_files/libs/clipboard/clipboard.min.js"></script>
<script src="rankings_files/libs/quarto-html/quarto.js"></script>
<script src="rankings_files/libs/quarto-html/popper.min.js"></script>
<script src="rankings_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="rankings_files/libs/quarto-html/anchor.min.js"></script>
<link href="rankings_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="rankings_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="rankings_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="rankings_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="rankings_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">

<link href="rankings_files/libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="rankings_files/libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<script src="rankings_files/libs/plotly-binding-4.10.4/plotly.js"></script>
<script src="rankings_files/libs/typedarray-0.1/typedarray.min.js"></script>
<script src="rankings_files/libs/jquery-3.5.1/jquery.min.js"></script>
<link href="rankings_files/libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">
<script src="rankings_files/libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>
<link href="rankings_files/libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="rankings_files/libs/plotly-main-2.11.1/plotly-latest.min.js"></script>
<script src="rankings_files/libs/core-js-2.5.3/shim.min.js"></script>
<script src="rankings_files/libs/react-18.2.0/react.min.js"></script>
<script src="rankings_files/libs/react-18.2.0/react-dom.min.js"></script>
<script src="rankings_files/libs/reactwidget-2.0.0/react-tools.umd.cjs"></script>
<link href="rankings_files/libs/reactable-0.4.4/reactable.css" rel="stylesheet">
<script src="rankings_files/libs/reactable-binding-0.4.4/reactable.js"></script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="run_for_station.css">
</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-full toc-left">
<div id="quarto-sidebar-toc-left" class="sidebar toc-left">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#full-methodology" id="toc-full-methodology" class="nav-link active" data-scroll-target="#full-methodology">Full Methodology</a>
  <ul>
  <li><a href="#service-frequency" id="toc-service-frequency" class="nav-link" data-scroll-target="#service-frequency">Service Frequency</a></li>
  <li><a href="#number-of-local-services" id="toc-number-of-local-services" class="nav-link" data-scroll-target="#number-of-local-services">Number of Local Services</a></li>
  <li><a href="#distance-to-cbd" id="toc-distance-to-cbd" class="nav-link" data-scroll-target="#distance-to-cbd">Distance to CBD</a></li>
  <li><a href="#existing-transport-infrastructure" id="toc-existing-transport-infrastructure" class="nav-link" data-scroll-target="#existing-transport-infrastructure">Existing Transport Infrastructure</a></li>
  <li><a href="#zoning-suitability" id="toc-zoning-suitability" class="nav-link" data-scroll-target="#zoning-suitability">Zoning suitability</a></li>
  <li><a href="#zoned-capacity" id="toc-zoned-capacity" class="nav-link" data-scroll-target="#zoned-capacity">Zoned Capacity</a></li>
  <li><a href="#line-capacity" id="toc-line-capacity" class="nav-link" data-scroll-target="#line-capacity">Line Capacity</a></li>
  <li><a href="#raw-scores" id="toc-raw-scores" class="nav-link" data-scroll-target="#raw-scores">Raw Scores</a></li>
  <li><a href="#how-does-the-transformation-work" id="toc-how-does-the-transformation-work" class="nav-link" data-scroll-target="#how-does-the-transformation-work">How does the transformation work?</a></li>
  <li><a href="#transformed-scores" id="toc-transformed-scores" class="nav-link" data-scroll-target="#transformed-scores">Transformed Scores</a></li>
  </ul></li>
  </ul>
</nav>
</div>
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
</div>
<main class="content page-columns page-full column-body" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Full Station Rankings</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Paul S </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">June 6, 2024</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<section id="full-methodology" class="level1 page-columns page-full">
<h1>Full Methodology</h1>
<p>This page aims to describe the process used to rank each train station in Melbourne for upzoning. In doing so, the page steps through each of the metrics used to quantify different aspects of the station, before concluding with an explanation of the process used to turn the raw data into a score for easy comparison.</p>
<p>The seven metrics chosen (so far) are:</p>
<ul>
<li>Zoning suitability</li>
<li>Potential number of new homes</li>
<li>Train service frequency in peak</li>
<li>Train service passenger numbers in peak</li>
<li>Number of local services within a 500m walk</li>
<li>Distance to CBD</li>
<li>Existing transport infrastructure.</li>
</ul>
<p>Metrics were chosen based on two factors</p>
<ul>
<li>data being available to support the analysis</li>
<li>data is able to be measured by a single number</li>
</ul>
<p>The rankings are intended to capture which stations should be upzoned as a priority <strong>right now</strong> without having to amend any legislation, alter zoning, change public transport service frequencies or build new infrastructure. Hence, some metrics are a representation of the day they were calculated and are likely to change over time, requiring the model to be re-run when new data is available.</p>
<p>callout box: for example the metro tunnel throws all this out.</p>
<p>This page describes the functions that generate the station rankings, of which the code is primarily here on <a href="https://github.com/Synfax/train_capacity/blob/main/r/station_functions.R">GitHub</a>.</p>
<section id="service-frequency" class="level2">
<h2 class="anchored" data-anchor-id="service-frequency">Service Frequency</h2>
<p>Service frequency is critical for the viability of upzoning a train station. (blh blah blah)</p>
<p>The metric is calculated by using PTV’s <a href="https://discover.data.vic.gov.au/dataset/train-service-passenger-counts">Patronage Data</a>, which details the patronage for each train service in Melbourne. For a given station, the average number of departures is taken across two periods and directions:</p>
<p>- Between 7 and 10am towards Flinders Street</p>
<p>- Between 4 and 7pm away from Flinders Street</p>
<p>The average of these two periods then comprises the final score. It is measured in ‘Services per hour’. For example 4 services per hour corresponds to a service every 15 minutes.</p>
<p>Public holidays, school holidays and weekends are excluded from the data.</p>
<p>A limitation of only capturing peak services is that it is a poorer indicator for those who do not subscribe to the typical 9-5 office commute. On the other hand, peak hours are when most people use trains, and an average over the whole day may drown out information regarding service frequency when people use them most.</p>
</section>
<section id="number-of-local-services" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="number-of-local-services">Number of Local Services</h2>
<p>While train stations themselves are useful for travelling around the city, ideal upzoning locations also have many local amenities and are in a nice neighbourhood.</p>
<p>To measure this, critical amenities are pulled from <code>OpenStreetMap</code> using the <code>osmdata</code> package. These are: restaurant, supermarket, cafe, bar, school, childcare, park.</p>

<div class="no-row-height column-margin column-container"><div class="">
<p>The choice of the amenities is arbitrary, and intended to measure essential living necessities that makes neighbourhoods nice. A further benefit is that for the chosen amenities, OpenStreetMap contains reasonably accurate data. More extravagant and precise amenity choices could be limited by poor data.</p>
</div></div><p>This yields the number of each type of amenity for any given station.</p>
<p>However, for the overall transformation process to work, these amenity numbers must be compressed into a single number for comparison with other stations.</p>
<p>One could sum all the amenities to get a total number of services nearby, however, this results in no difference between a station surrounded by 100 cafes, or one with 20 of each amenity. Other methods, such as median number of amenities or mean number suffer from similar problems.</p>
<p>To combine these amenity counts into a single value, an xmin-xmax transformation is used, which is the same process for how each station is assigned its rank which is described at the end of this document.</p>
<p>Each column is transformed through:</p>
<p><span class="math display">\[
x = \frac{x - \min{x} }{ \max{x} - \min{x} }
\]</span></p>
<p>In this way, each value is now represented as a percentage of the range (max - min) of ALL stations in the sample, bounded between zero and one. A zero corresponds to the lowest value out of all stations, and a one corresponds to the highest value.</p>
<p>After the transformation is applied, each station has a 0-1 value for each amenity type, which can be summed together to form a single metric for how many local services are nearby.</p>

<div class="no-row-height column-margin column-container"><div class="">
<p>No weighting is applied for this sum. Each amenity type is treated equally as important as each other. It would be trivial to change the amenity weights in the code and re-run if desired.</p>
</div></div><p>The scoring method takes into account that raw numbers mean different things for different amenities, which a simple summation or mean would not consider. For example, having 45 cafes in an area is less important than having 45 schools, although without additional manual weighting, a mean or sum would be unable to distinguish the two.</p>
<p>The downside is that the resulting ‘value’ does not have a nice interpretation.</p>
</section>
<section id="distance-to-cbd" class="level2">
<h2 class="anchored" data-anchor-id="distance-to-cbd">Distance to CBD</h2>
<p>Stations closer to the CBD are likely to have higher land prices, which makes upzoning far more economically feasible. They are also likely to have increased job access.</p>
<p>Therefore, distance is included ‘as the crow flies’ from the station to Flinders Street Station, in metres.</p>
</section>
<section id="existing-transport-infrastructure" class="level2">
<h2 class="anchored" data-anchor-id="existing-transport-infrastructure">Existing Transport Infrastructure</h2>
<p>While rail provides high-capacity service in and out of the CBD, it is only in a radial direction. It is also important to measure the other transport modes that service the properties near the stations, trams and buses.</p>
<p>The model works by first finding which <a href="https://discover.data.vic.gov.au/dataset/ptv-metro-bus-stops">bus stops</a> and <a href="https://discover.data.vic.gov.au/dataset/ptv-metro-tram-stops">tram stops</a> are within the specified radius of the train station, and pulling the list of services which service those stops.</p>
<p>The next step of the model uses the <a href="https://discover.data.vic.gov.au/dataset/timetable-and-geographic-information-gtfs">PTV GTFS Timetable API</a> to pull service timetables on a typical weekday. For each route, the average number of departures per hour is calculated (<a href="https://github.com/Synfax/train_capacity/blob/main/r/tram_gtfs_analysis.R">Code</a>).</p>
<p>A weight is applied to the tram routes, as typically they can carry at least twice the number of passengers a bus can. As such, they are weighted twice that of buses.</p>
<p>An important consideration is that this measure does not factor in the number of stops within the radius of the station, only that there is at least one stop.</p>
<p>The stop counts were not included as having more stops does not neccessarily mean the area is better connected: they could be served infrequently, be clustered on the edge of the radius, or be so close together the service is slow.</p>
<p>A downside of this method is it does not (and could not reasonably) consider the direction the services travel, or if the services travel to useful places.</p>
</section>
<section id="zoning-suitability" class="level2">
<h2 class="anchored" data-anchor-id="zoning-suitability">Zoning suitability</h2>
<p>This measure intends to capture the suitability of existing zoning surrounding train stations.</p>
<p>An ideal station would have many low density residential lots that are able to be redeveloped and not subject to external heritage controls.</p>
<p>Therefore, a ‘suitable lot’ is defined as:</p>
<ul>
<li><p>Either Neighbourhood Residential or General Residential</p></li>
<li><p>Not under any heritage control</p></li>
</ul>
<p>The measure is calculated as the area of suitable properties in square metres, divided by the total area of all properties within a suitable radius. Train stations that score poorly in this metric are likely to either be mostly non-residential already, or be subject to extreme heritage controls, which meets the intention for this metric.</p>
<p><a href="https://discover.data.vic.gov.au/dataset/vicmap-planning-planning-scheme-overlay-polygon1">Data</a> from DataVic.</p>
</section>
<section id="zoned-capacity" class="level2">
<h2 class="anchored" data-anchor-id="zoned-capacity">Zoned Capacity</h2>
<p>Zoned capacity is a measure of how many dwellings could fit in an area, given the current zoning. It is a theoretic maximum. This section looks at the current zoned capacity, and compares it to a theoretic zoned capacity under ‘Missing Middle’ zoning. To reiterate, the potential future zoned capacity is <strong>a theoretic maximum</strong>, and extremely unlikely to be realised if upzoning occured.</p>
<p>The numbers as theoretical limits are from YIMBYMelbourne’s <em>Housing Targets</em> report, with initial yields from Michael Buxton, tweaked by Jonathan Nolan. <a href="https://github.com/Synfax/train_capacity/blob/main/r/add_mm_zoning_info.R">Code for the brave</a></p>
</section>
<section id="line-capacity" class="level2">
<h2 class="anchored" data-anchor-id="line-capacity">Line Capacity</h2>
<p>This metric aims to measure the amount of space available on trains passing through this station, as there is little point upzoning if there is no capacity to move people. It uses the DataVic <a href="https://discover.data.vic.gov.au/dataset/train-service-passenger-counts">Patronage Data</a>.</p>
<p>However, for stations in the middle of a train line, passengers will typically continue to board the train until the city. This means that it is not useful to only look at the patronage as trains pass through a given station as more passengers may board later.</p>
<p>Instead, it is best to look at the average number of passengers on trains at their last station before the CBD as this is when trains are their busiest. This gives a better measure of how busy the line itself is overall.</p>
<section id="sample-process-for-victoria-park" class="level5">
<h5 class="anchored" data-anchor-id="sample-process-for-victoria-park">Sample Process for Victoria Park</h5>
<ol type="1">
<li><p>Find the train line(s) that serve Victoria Park: Hurstbridge, Mernda</p></li>
<li><p>For each train line, find the station nearest to the CBD. These are by definition the same for each line: Jolimont.</p></li>
<li><p>For each of these stations just before the CBD, calculate the average patronage of train services at that station, but restrict the search to only train services on the lines identified in step 1.</p></li>
</ol>
<p>The process described above yields a single score for all stations that share the same lines. These values are shown below to try and describe the process.</p>
<div class="graph">
<div class="cell">
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-1399d07ff0bb2ecd0b14" style="width:100%;height:650px;"></div>
<script type="application/json" data-for="htmlwidget-1399d07ff0bb2ecd0b14">{"x":{"data":[{"orientation":"v","width":[251.91391311161601,206.75822596694999,287.84336871106802,201.66664235402399,368.45621335637298,288.31566680988198,420.13923778412698,328.38594008312702,278.86100481120502,348.19463686481402,274.68855068876098,347.31503930742599,234.04303362208501,266.38568127694202,300.00004585808301,234.278417455398,291.23652716010599,431.52325071148698,325.31154102740402,337.9987683439,413.00658258646098],"base":[4.5499999999999998,1.55,8.5500000000000007,0.55000000000000004,17.550000000000001,9.5500000000000007,19.550000000000001,13.550000000000001,7.5499999999999998,16.550000000000001,6.5499999999999998,15.550000000000001,2.5499999999999998,5.5499999999999998,11.550000000000001,3.5499999999999998,10.550000000000001,20.550000000000001,12.550000000000001,14.550000000000001,18.550000000000001],"x":[125.95695655580801,103.379112983475,143.92168435553401,100.833321177012,184.22810667818649,144.15783340494099,210.06961889206349,164.19297004156351,139.43050240560251,174.09731843240701,137.34427534438049,173.657519653713,117.0215168110425,133.19284063847101,150.00002292904151,117.139208727699,145.618263580053,215.76162535574349,162.65577051370201,168.99938417195,206.50329129323049],"y":[0.90000000000000036,0.90000000000000013,0.89999999999999858,0.89999999999999991,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999947,0.89999999999999858,0.90000000000000036,0.89999999999999858,0.90000000000000036,0.90000000000000036,0.89999999999999858,0.90000000000000036,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858],"text":["average_peak_service_cap: 251.9139<br />reorder(lines, average_peak_service_cap): Glen Waverley","average_peak_service_cap: 206.7582<br />reorder(lines, average_peak_service_cap): Alamein","average_peak_service_cap: 287.8434<br />reorder(lines, average_peak_service_cap): Belgrave,Alamein,Lilydale","average_peak_service_cap: 201.6666<br />reorder(lines, average_peak_service_cap): Frankston","average_peak_service_cap: 368.4562<br />reorder(lines, average_peak_service_cap): Belgrave","average_peak_service_cap: 288.3157<br />reorder(lines, average_peak_service_cap): Lilydale","average_peak_service_cap: 420.1392<br />reorder(lines, average_peak_service_cap): Pakenham,Cranbourne","average_peak_service_cap: 328.3859<br />reorder(lines, average_peak_service_cap): Belgrave,Lilydale","average_peak_service_cap: 278.8610<br />reorder(lines, average_peak_service_cap): Glen Waverley,Belgrave,Alamein,Lilydale","average_peak_service_cap: 348.1946<br />reorder(lines, average_peak_service_cap): Werribee","average_peak_service_cap: 274.6886<br />reorder(lines, average_peak_service_cap): Hurstbridge","average_peak_service_cap: 347.3150<br />reorder(lines, average_peak_service_cap): Frankston,Pakenham,Cranbourne","average_peak_service_cap: 234.0430<br />reorder(lines, average_peak_service_cap): Sandringham","average_peak_service_cap: 266.3857<br />reorder(lines, average_peak_service_cap): Upfield","average_peak_service_cap: 300.0000<br />reorder(lines, average_peak_service_cap): Hurstbridge,Mernda","average_peak_service_cap: 234.2784<br />reorder(lines, average_peak_service_cap): Williamstown","average_peak_service_cap: 291.2365<br />reorder(lines, average_peak_service_cap): Werribee,Williamstown","average_peak_service_cap: 431.5233<br />reorder(lines, average_peak_service_cap): Sunbury","average_peak_service_cap: 325.3115<br />reorder(lines, average_peak_service_cap): Mernda","average_peak_service_cap: 337.9988<br />reorder(lines, average_peak_service_cap): Sunbury,Werribee,Williamstown","average_peak_service_cap: 413.0066<br />reorder(lines, average_peak_service_cap): Craigieburn"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(89,89,89,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":23.305936073059364,"r":7.3059360730593621,"b":37.260273972602747,"l":253.51598173515993},"font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-21.576162535574351,453.09941324706131],"tickmode":"array","ticktext":["0","100","200","300","400"],"tickvals":[0,100.00000000000001,200,300,400],"categoryorder":"array","categoryarray":["0","100","200","300","400"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716894984},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y","title":{"text":"Mean number of people on peak train before flinders","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.40000000000000002,21.600000000000001],"tickmode":"array","ticktext":["Frankston","Alamein","Sandringham","Williamstown","Glen Waverley","Upfield","Hurstbridge","Glen Waverley,Belgrave,Alamein,Lilydale","Belgrave,Alamein,Lilydale","Lilydale","Werribee,Williamstown","Hurstbridge,Mernda","Mernda","Belgrave,Lilydale","Sunbury,Werribee,Williamstown","Frankston,Pakenham,Cranbourne","Werribee","Belgrave","Craigieburn","Pakenham,Cranbourne","Sunbury"],"tickvals":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,14.999999999999998,15.999999999999998,17,18,19,20,21],"categoryorder":"array","categoryarray":["Frankston","Alamein","Sandringham","Williamstown","Glen Waverley","Upfield","Hurstbridge","Glen Waverley,Belgrave,Alamein,Lilydale","Belgrave,Alamein,Lilydale","Lilydale","Werribee,Williamstown","Hurstbridge,Mernda","Mernda","Belgrave,Lilydale","Sunbury,Werribee,Williamstown","Frankston,Pakenham,Cranbourne","Werribee","Belgrave","Craigieburn","Pakenham,Cranbourne","Sunbury"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716894984},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":{"text":"Lines serving station","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716894984}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"a44864ca6964":{"x":{},"y":{},"type":"bar"}},"cur_data":"a44864ca6964","visdat":{"a44864ca6964":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</div>
<p>Stations only served by the Sunbury line typically have the most packed trains, whereas Frankston only stations are typically the emptiest.</p>
</section>
</section>
<section id="raw-scores" class="level2">
<h2 class="anchored" data-anchor-id="raw-scores">Raw Scores</h2>
<div class="graph">
<div class="cell">
<div class="cell-output-display">

<div class="reactable html-widget html-fill-item" id="htmlwidget-264141c61753d96e9240" style="width:auto;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-264141c61753d96e9240">{"x":{"tag":{"name":"Reactable","attribs":{"data":{"station":["Glen Iris","Darling","East Malvern","Holmesglen","Jordanville","Alamein","Ashburton","Burwood","Hartwell","Willison","Riversdale","Camberwell","Mordialloc","Parkdale","Mentone","Cheltenham","Heathmont","Highett","Glen Waverley","Syndal","Mount Waverley","Ringwood East","Noble Park","Sandown Park","East Camberwell","Canterbury","Chatham","Laburnum","Blackburn","Nunawading","Mitcham","Heatherdale","Ringwood","Auburn","Glenferrie","Hawthorn","Burnley","East Richmond","Richmond","Heyington","Kooyong","Tooronga","Gardiner","Springvale","Westall","Clayton","Huntingdale","Oakleigh","Hughesdale","Murrumbeena","Carnegie","Hoppers Crossing","Laverton","Aircraft","Westona","Altona","Seaholme","Westgarth","Dennis","Fairfield","Alphington","Darebin","Ivanhoe","Eaglemont","Heidelberg","Rosanna","Moorabbin","Patterson","Bentleigh","Mckinnon","Ormond","Glenhuntly","Caulfield","Malvern","Armadale","Toorak","Hawksburn","Sandringham","Hampton","Brighton Beach","Middle Brighton","North Brighton","Gardenvale","Elsternwick","Ripponlea","Balaclava","Windsor","Prahran","South Yarra","Upfield","Gowrie","Fawkner","Merlynston","Batman","Coburg","Moreland","Anstey","Brunswick","Jewell","Royal Park","Flemington Bridge","Macaulay","North Melbourne","Clifton Hill","Victoria Park","Collingwood","North Richmond","West Richmond","Jolimont","Macleod","Watsonia","Greensborough","Montmorency","Eltham","Diamond Creek","Williamstown","Williamstown Beach","North Williamstown","Newport","Spotswood","Yarraville","Seddon","Watergardens","Keilor Plains","St Albans","Ginifer","Albion","Epping","Lalor","Thomastown","Keon Park","Ruthven","Reservoir","Regent","Preston","Bell","Thornbury","Croxton","Northcote","Merri","Rushall","Sunshine","Tottenham","West Footscray","Middle Footscray","Footscray","South Kensington","Flemington Racecourse","Showgrounds","Broadmeadows","Jacana","Glenroy","Oak Park","Pascoe Vale","Strathmore","Glenbervie","Essendon","Moonee Ponds","Ascot Vale","Newmarket","Kensington","Box Hill","Roxburgh Park","Craigieburn","Coolaroo","South Morang","Williams Landing","Southland","Middle Gorge","Hawkstowe","Union"],"Zoning suitability":[0.5,0.62,0.53,0.61,0.64,0.68,0.68,0.68,0.68,0.43,0.26,0.16,0.64,0.77,0.61,0.59,0.84,0.7,0.64,0.71,0.74,0.78,0.71,0.69,0.32,0.38,0.35,0.6,0.58,0.51,0.59,0.5,0.43,0.17,0.12,0.12,0.29,0.12,0.03,0.32,0.37,0.44,0.46,0.51,0.35,0.48,0.49,0.49,0.71,0.61,0.5,0.56,0.64,0.53,0.69,0.58,0.56,0.22,0.57,0.67,0.47,0.51,0.71,0.7,0.61,0.85,0.61,0.61,0.6,0.58,0.54,0.63,0.38,0.26,0.35,0.36,0.27,0.77,0.7,0.71,0.65,0.64,0.67,0.39,0.3,0.29,0.23,0.27,0.18,0.48,0.59,0.67,0.49,0.45,0.61,0.5,0.37,0.24,0.17,0.08,0.07,0.06,0,0.03,0.07,0.09,0.08,0.08,0,0.72,0.74,0.58,0.81,0.54,0.59,0,0.06,0.2,0.33,0.25,0.36,0.22,0.45,0.65,0.47,0.65,0.21,0.23,0.59,0.48,0.33,0.85,0.71,0.74,0.54,0.33,0.5,0.53,0.31,0.11,0.05,0.41,0.37,0.42,0.33,0.09,0.11,0.29,0.36,0.46,0.72,0.71,0.8,0.7,0.57,0.5,0.46,0.44,0.42,0.2,0.16,0.33,0.24,0.41,0.75,0.34,0.2,0.52,0.48,0.53,0.54],"Potential new homes":[51955,56735,51408,43100,51584,54838,66908,65006,67040,65733,61079,53799,30015,46678,40413,38568,64403,54078,47119,56527,48651,55653,54900,38493,64311,67160,65764,49345,47526,40679,45535,34252,31227,50023,47590,37887,29697,25589,20308,35642,44417,45652,47954,36201,26733,44433,30393,52170,59569,59528,59366,24824,33738,19491,45170,33074,22359,47858,51992,52871,45805,43852,55286,62156,49955,63987,36564,52556,60004,60217,64320,56698,42260,51237,52552,57621,42041,34583,40942,31252,60231,55269,60986,43592,53046,49813,33808,27575,33250,25388,34254,36179,34411,34997,49634,57666,45060,34006,24585,12723,16796,18983,3950,34422,19918,17850,22074,25664,15433,52232,48081,45460,64343,46698,43158,15513,38194,47744,38406,20088,44197,32021,35092,43996,36113,46056,24026,14942,46187,35694,23853,61569,55704,57916,46716,35975,48567,50451,45747,48134,41181,37319,25458,41248,36130,11168,14283,14068,29891,35313,49265,57044,58654,50664,49386,48350,51710,49984,54438,34845,22044,37361,13993,21451,49061,19092,11461,34743,30715,23660,68284],"Train frequency":[5.33,5.57,5.66,5.67,5.67,3.7,3.71,3.71,3.71,3.71,3.46,13.75,8.24,7.61,8.13,8.57,4.21,5.82,5.67,5.56,5.55,4.32,9.73,9.62,4.62,4.38,4.38,9.6,12.09,9.13,9.35,9.14,9.42,6.65,11.29,6.78,12.06,6.92,45.68,5.32,5.45,5.33,5.33,9.85,8.01,10.48,10.24,10.37,10.36,10.36,10.37,5.09,7.89,5.09,2.88,2.89,2.89,4.43,4.43,4.43,4.43,4.31,6,4.31,6.13,6.14,5.9,6.02,6.02,6.13,6.13,6.01,18.98,8.1,6.07,5.94,5.94,6.09,6.21,6.22,6.22,6.22,6.21,6.33,6.21,6.22,6.21,6.21,25.2,3.29,3.17,3.29,3.17,3.33,3.33,3.33,3.45,3.45,3.45,3.45,3.33,3.33,27.39,12.5,12.61,9.92,9.92,9.92,12.36,6.14,5.52,5.3,3.89,3.88,2.58,2.95,2.95,2.94,11,5.87,5.87,5.75,6.46,6.34,6.46,6.46,6.59,6.2,6.26,6.14,6.04,6.14,6.13,6.11,6.25,6.35,6.35,6.24,6.36,6.25,6.25,6.47,5.49,5.49,5.49,17.31,5.87,0.04,1.12,6.7,6.69,6.69,6.82,6.7,6.7,6.7,6.71,6.7,6.71,6.71,6.71,12.32,6.43,6.43,6.19,6.06,5.09,5.7,5.94,6.06,6.81],"Line Capacity":[251.91,251.91,251.91,251.91,251.91,206.76,206.76,206.76,206.76,206.76,206.76,287.84,201.67,201.67,201.67,201.67,368.46,201.67,251.91,251.91,251.91,288.32,420.14,420.14,328.39,328.39,328.39,328.39,328.39,328.39,328.39,328.39,328.39,287.84,287.84,287.84,278.86,278.86,298.93,251.91,251.91,251.91,251.91,420.14,420.14,420.14,420.14,420.14,420.14,420.14,420.14,348.19,348.19,348.19,348.19,348.19,348.19,274.69,274.69,274.69,274.69,274.69,274.69,274.69,274.69,274.69,201.67,201.67,201.67,201.67,201.67,201.67,347.32,347.32,201.67,201.67,201.67,234.04,234.04,234.04,234.04,234.04,234.04,234.04,234.04,234.04,234.04,234.04,319,266.39,266.39,266.39,266.39,266.39,266.39,266.39,266.39,266.39,266.39,266.39,266.39,266.39,307.91,300,300,300,300,300,300,274.69,274.69,274.69,274.69,274.69,274.69,234.28,234.28,234.28,291.24,291.24,291.24,291.24,431.52,431.52,431.52,431.52,431.52,325.31,325.31,325.31,325.31,325.31,325.31,325.31,325.31,325.31,325.31,325.31,325.31,325.31,325.31,431.52,431.52,431.52,431.52,338,291.24,154.06,154.06,413.01,413.01,413.01,413.01,413.01,413.01,413.01,413.01,413.01,413.01,413.01,413.01,328.39,413.01,413.01,413.01,325.31,348.19,201.67,325.31,325.31,328.39],"Distance to CBD":[9220.48,10138.89,11110.84,12529.12,14154.31,11353.74,11157.92,10636.24,9955.46,9278.7,9135.91,8106.82,23482.18,21693.03,20142.87,18214.01,24422.66,15905.54,18441.73,17304.69,15504.27,24905.44,24792.56,23073.4,8929.31,10059.01,10709.07,15268.49,16086.03,18274.27,19774.95,21605.21,23030.09,6939.37,6107.56,4922.38,3703.66,2784.98,2127.58,5212.16,6319.41,7417.25,8391.87,21940.97,20166.97,17945.3,15742.87,14034.01,12925.17,11905.44,11038.59,24486.59,17828.32,18915.28,14476.2,13250.66,12384.69,5057.88,5661.58,6177.82,7181.91,7917.86,8815.77,9770.42,10688.26,12100.48,14294.85,13325.62,12628.85,12002.46,11400.07,10334.77,9344.92,7641.23,6254.51,5477.59,4249.46,15061.55,13660.38,12197.95,11080.76,10131.35,9315.22,7971.76,6873.15,6153.07,4740.04,4010.15,3155.48,17039.82,13113.62,11555.87,10850.7,9444.79,8461.75,7119.02,6376.69,5669.14,4877.64,4330.98,4152.23,3815.72,2616.53,4134.22,3213.62,2800.75,2400.71,2171.23,1507.79,13644.3,15755.69,17785.58,17779.84,19720.46,23332.78,7732.93,8161.64,8120.38,7828.63,7267.98,6791.43,6366.3,21410.2,18190.52,16817.94,15422.18,13317.72,19284.68,17534.11,15909.38,14294.3,12844.32,11822.76,10488.04,9338.96,8603.57,7565.59,6583.81,5934.17,5045.64,4495.24,12261.69,9402.6,7422.54,6879.76,5937.78,4215.61,6275.6,6000.65,15625.44,14433.99,13403.32,11869.22,10329.1,9023.13,8895,8254.26,7215.38,6226.56,4809.39,4218.87,13571.65,20238.49,24189.61,17879.17,20782.76,20144.42,17216.39,22302.46,24583.09,11703.96],"Other transport connections":[54.18,27.77,24.88,11.24,10.34,5.06,2.81,11.92,14.14,25.71,27.46,39.41,8.84,6.48,8.29,21.53,4.77,10.53,33.22,11.37,11.11,6.5,2.84,1.02,27.09,3.72,4.18,22.95,17.5,16.96,37.92,8.13,32.01,12.04,24.13,51.49,24.91,30.35,30.3,38.58,28.57,36.28,35.66,2.88,5.87,7.62,54.8,13.82,23,8.22,43.76,13.9,2.71,3.79,1.6,5.53,5.5,45.67,24.5,11.69,9.07,13.48,10.5,26.01,18.89,10.35,5.94,8.46,7.44,14.95,8.27,10.66,14.27,47.08,60.96,49.28,58.85,6.1,6.14,0.88,5.99,11.28,12.49,28.17,33.13,25.72,31.03,38.5,45.51,6.92,8.35,8.36,44.89,35.48,34.42,38.91,42.96,46.28,48.52,41.18,53.24,37.49,49.83,30.32,23.56,39.85,31.58,15.7,17.2,7.51,7.19,10.7,12.69,14.62,6.86,3.48,9.41,8.74,10.3,6.44,14.6,48.25,13.77,5.51,18.31,4.8,7.27,21.1,12.15,22.41,9.21,11.44,23.71,38.19,43.15,48.63,40.25,46.2,45.44,45.1,44.56,52.51,10.95,23.23,63.17,64.95,10.71,23.22,21.49,29.87,3.39,9.32,5.29,13.73,10.96,30.4,46.55,86.17,50.18,39.41,23.58,59.99,12.69,5.95,13.98,18.75,22.25,18,8.36,5.85,20.18],"Local Amenities":[1.29,0.89,0.83,0.86,0.53,0.94,0.68,0.63,0.64,0.79,0.92,1.27,0.97,0.47,1.34,1.29,0.88,0.58,1.73,1.18,0.95,0.99,1.22,0.58,0.94,0.54,0.72,0.98,1.29,0.68,0.97,0.89,1.45,2.07,2.45,1.61,1.46,2.05,2.01,0.52,0.9,1.03,1.08,2.46,0.7,1.55,0.77,1.71,0.8,1.96,2.3,0.51,0.72,0.35,0.69,0.77,0.46,1.49,1.18,1.08,0.51,0.79,0.98,0.84,1.95,0.49,0.62,0.71,0.72,0.96,0.65,0.48,0.9,0.92,0.99,0.86,2.82,0.95,0.5,0.31,0.75,0.93,0.77,1.08,1.83,1.74,2.33,3.28,3.3,0.29,1.03,0.47,0.78,1.64,2.03,1.6,2.31,3.42,2.84,1.09,2.65,2.57,2.16,1.94,3.26,5.58,4.37,3.92,1.87,0.56,1.23,1.37,1.27,2.12,1.58,0.86,1.51,0.72,0.63,0.6,1.66,2.74,0.98,0.16,1.88,0.83,1.24,1.04,1.47,1.2,0.34,0.82,1.22,0.43,3.1,3.94,2.79,2.48,2.15,2.32,3.02,1.98,0.32,1.54,3.33,3.49,1.13,0.76,0.5,1.49,0.35,0.71,0.76,1.65,0.57,0.76,0.94,1.7,1.32,2.86,2.76,2.06,0.83,0.52,0.73,0.92,0.33,0.96,0.88,0.93,1.2]},"columns":[{"id":"station","name":"Station","type":"character","filterable":true},{"id":"Zoning suitability","name":"Zoning suitability","type":"numeric"},{"id":"Potential new homes","name":"Potential new homes","type":"numeric"},{"id":"Train frequency","name":"Train frequency","type":"numeric"},{"id":"Line Capacity","name":"Line Capacity","type":"numeric"},{"id":"Distance to CBD","name":"Distance to CBD","type":"numeric"},{"id":"Other transport connections","name":"Other transport connections","type":"numeric"},{"id":"Local Amenities","name":"Local Amenities","type":"numeric"}],"theme":{"color":"#3e3f3a","backgroundColor":"#ffffff","borderColor":"#f8f5f0","borderWidth":"1px","stripedColor":"#ededed","highlightColor":"#f8f5f0","cellPadding":6,"tableStyle":{"fontSize":15},"headerStyle":{"borderWidth":"2px","backgroundColor":"#f8f5f0","color":"#7c7a78","transitionDuration":"0.5s","&:hover[aria-sort]":{"color":"#000000"},"&[aria-sort='ascending'], &[aria-sort='descending']":{"color":"#000000"},"fontSize":16},"groupHeaderStyle":{"&:not(:empty)":{"color":"#3e3f3a","fontSize":16},"&:hover":{"fontWeight":"bold","transitionDuration":"1s","transitionTimingFunction":"ease-out","color":"#000000"}},"rowSelectedStyle":{"backgroundColor":"#dfd7ca","color":"#8e8c84"},"inputStyle":{"backgroundColor":"#ffffff","borderColor":"#bcbfc1","color":"#3e3f3a"},"searchInputStyle":{"backgroundColor":"#ffffff","color":"#3e3f3a","borderColor":"#bcbfc1","&:focus":{"color":"#3e3f3a"}},"selectStyle":{"backgroundColor":"#dfd7ca","color":"#8e8c84","borderColor":"#ffffff","outlineColor":"#ffffff"},"pageButtonStyle":{"backgroundColor":"#f8f5f0","color":"#8e8c84","&:hover":{"backgroundColor":"#f3969a","color":"#8e8c84"}},"pageButtonHoverStyle":{"backgroundColor":"#dfd7ca","color":"#8e8c84"},"pageButtonActiveStyle":{"backgroundColor":"#dfd7ca","color":"#8e8c84"},"pageButtonCurrentStyle":{"backgroundColor":"#dfd7ca","color":"#8e8c84"}},"dataKey":"e7a4a2fb4100e15b7ea69a7db799b414"},"children":[]},"class":"reactR_markup"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</div>
</section>
<section id="how-does-the-transformation-work" class="level2">
<h2 class="anchored" data-anchor-id="how-does-the-transformation-work">How does the transformation work?</h2>
<p>Each raw score is in different units, so the first task is to transform all the metrics into something that can be summed into one total score.</p>
<p>This is achieved by scaling each column (of all the scores) so that each value is relative to the maximum and minimum values from other stations, also known as xmin-xmax scaling. The end result is a value between zero and 1 across all metrics, allowing an easy summation.</p>
<p><span class="math display">\[
x = \frac{x - \min{x} }{ \max{x} - \min{x} }
\]</span></p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>One downside of the xmin-xmax scaler is its high sensitivity to outliers. Very high or very low values imply that reasonable variance in the original data is flattened to very similar values after scaling.</p>
<p>To see the distributions of the raw variables and scaled variables, see <a href="analysis.qmd">here.</a></p>
</div>
</div>
<p>For some metrics however, a larger value implies a station that is less suited for upzoning. For example, a large distance value is actually undesired from the model’s perspective.</p>
<p>To deal with this problem, weights are applied to each metric, with negative weights representing unwanted metrics. This also allows customisation of the model by any interested parties.</p>
<p>By default, weights are set as:</p>
<div class="graph">
<div class="cell">
<div class="cell-output-display">

<div class="reactable html-widget html-fill-item" id="htmlwidget-62ed09f20f0b8873483c" style="width:auto;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-62ed09f20f0b8873483c">{"x":{"tag":{"name":"Reactable","attribs":{"data":{".rownames":["Weight"],"Zoning suitability":[1],"Potential new homes":[1],"Train frequency":[1],"Line Capacity":[-1],"Local Amenities":[1],"Distance to CBD":[-1],"Other transport connections":[1]},"columns":[{"id":".rownames","name":"","type":"character","sortable":false,"filterable":false,"rowHeader":true},{"id":"Zoning suitability","name":"Zoning suitability","type":"numeric"},{"id":"Potential new homes","name":"Potential new homes","type":"numeric"},{"id":"Train frequency","name":"Train frequency","type":"numeric"},{"id":"Line Capacity","name":"Line Capacity","type":"numeric"},{"id":"Local Amenities","name":"Local Amenities","type":"numeric"},{"id":"Distance to CBD","name":"Distance to CBD","type":"numeric"},{"id":"Other transport connections","name":"Other transport connections","type":"numeric"}],"theme":{"color":"#3e3f3a","backgroundColor":"#ffffff","borderColor":"#f8f5f0","borderWidth":"1px","stripedColor":"#ededed","highlightColor":"#f8f5f0","cellPadding":6,"tableStyle":{"fontSize":15},"headerStyle":{"borderWidth":"2px","backgroundColor":"#f8f5f0","color":"#7c7a78","transitionDuration":"0.5s","&:hover[aria-sort]":{"color":"#000000"},"&[aria-sort='ascending'], &[aria-sort='descending']":{"color":"#000000"},"fontSize":16},"groupHeaderStyle":{"&:not(:empty)":{"color":"#3e3f3a","fontSize":16},"&:hover":{"fontWeight":"bold","transitionDuration":"1s","transitionTimingFunction":"ease-out","color":"#000000"}},"rowSelectedStyle":{"backgroundColor":"#dfd7ca","color":"#8e8c84"},"inputStyle":{"backgroundColor":"#ffffff","borderColor":"#bcbfc1","color":"#3e3f3a"},"searchInputStyle":{"backgroundColor":"#ffffff","color":"#3e3f3a","borderColor":"#bcbfc1","&:focus":{"color":"#3e3f3a"}},"selectStyle":{"backgroundColor":"#dfd7ca","color":"#8e8c84","borderColor":"#ffffff","outlineColor":"#ffffff"},"pageButtonStyle":{"backgroundColor":"#f8f5f0","color":"#8e8c84","&:hover":{"backgroundColor":"#f3969a","color":"#8e8c84"}},"pageButtonHoverStyle":{"backgroundColor":"#dfd7ca","color":"#8e8c84"},"pageButtonActiveStyle":{"backgroundColor":"#dfd7ca","color":"#8e8c84"},"pageButtonCurrentStyle":{"backgroundColor":"#dfd7ca","color":"#8e8c84"}},"dataKey":"b3351d9bda81da606c0f92cbc1bb8854"},"children":[]},"class":"reactR_markup"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</div>
<p>These transformed scores are then summed to produce a final score.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>There are some restrictions placed on final rankings:</p>
<ul>
<li><p>City loop stations are excluded as they can’t be upzoned further.</p></li>
<li><p>Edge transfer stations (North Melbourne, South Yarra, Richmond) were excluded due to extreme outliers in the data impacting the transformation process.</p></li>
<li><p>Stations further than 25km of Flinders Street are excluded as they are generally economically unfeasible to upzone.</p></li>
</ul>
</div>
</div>
<!-- ## Example Transformation -->
</section>
<section id="transformed-scores" class="level2">
<h2 class="anchored" data-anchor-id="transformed-scores">Transformed Scores</h2>
<div class="graph">
<div class="cell">
<div class="cell-output-display">

<div class="reactable html-widget html-fill-item" id="htmlwidget-c1378b2d660450655420" style="width:auto;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-c1378b2d660450655420">{"x":{"tag":{"name":"Reactable","attribs":{"data":{"station":["Hawksburn","Armadale","Toorak","Glen Iris","Croxton","Hartwell","Preston","Gardenvale","Collingwood","Moreland","Ripponlea","Mckinnon","Thornbury","Camberwell","Burwood","Coburg","Prahran","Footscray","Willison","Darling","Moonee Ponds","Eaglemont","Glenhuntly","Ormond","Rosanna","Ashburton","North Brighton","Anstey","Balaclava","Bentleigh","Dennis","Regent","Bell","Middle Brighton","Ivanhoe","Heidelberg","Carnegie","Glenferrie","Box Hill","Fairfield","Gardiner","Brunswick","North Richmond","Tooronga","Alamein","Northcote","Windsor","Highett","Riversdale","Patterson","Burnley","Elsternwick","Union","Ruthven","Reservoir","Caulfield","Westgarth","Glen Waverley","Montmorency","East Malvern","Cheltenham","Seddon","Syndal","Kooyong","Merri","West Richmond","Hawthorn","Rushall","Ascot Vale","Victoria Park","Clifton Hill","Mount Waverley","Malvern","Blackburn","Jewell","Hughesdale","Macleod","Heyington","Middle Footscray","Parkdale","Laburnum","Mentone","Jordanville","Murrumbeena","Batman","Watsonia","Hampton","Holmesglen","Yarraville","Sandringham","East Camberwell","Auburn","Essendon","Merlynston","Moorabbin","Mitcham","East Richmond","Darebin","Newport","Flemington Bridge","Pascoe Vale","Southland","Alphington","Brighton Beach","Oak Park","Newmarket","Greensborough","Eltham","Jolimont","Macaulay","Mordialloc","Canterbury","Oakleigh","Glenbervie","Fawkner","Lalor","Chatham","North Williamstown","Glenroy","Sunshine","Ringwood East","Gowrie","Huntingdale","Strathmore","Nunawading","Thomastown","Heathmont","Williamstown Beach","West Footscray","Royal Park","Ringwood","Coolaroo","Jacana","Westona","Kensington","Diamond Creek","Noble Park","Clayton","Broadmeadows","Laverton","Heatherdale","Ginifer","South Kensington","Spotswood","Altona","Springvale","St Albans","Upfield","Sandown Park","Keilor Plains","Middle Gorge","Seaholme","Keon Park","Williamstown","South Morang","Hawkstowe","Tottenham","Epping","Hoppers Crossing","Watergardens","Aircraft","Albion","Westall","Williams Landing","Craigieburn","Roxburgh Park"],"Zoning suitability":[0.32,0.41,0.43,0.59,0.62,0.8,0.64,0.78,0.11,0.59,0.35,0.68,0.59,0.19,0.8,0.72,0.32,0.11,0.51,0.73,0.52,0.83,0.74,0.64,1,0.8,0.75,0.44,0.34,0.7,0.67,0.87,0.39,0.76,0.84,0.72,0.59,0.15,0.39,0.79,0.54,0.28,0.1,0.52,0.8,0.37,0.27,0.82,0.31,0.72,0.34,0.46,0.64,1,0.84,0.45,0.26,0.76,0.95,0.62,0.7,0.26,0.84,0.44,0.13,0.1,0.14,0.06,0.5,0.08,0.03,0.87,0.31,0.69,0.21,0.84,0.85,0.37,0.39,0.9,0.71,0.72,0.75,0.72,0.52,0.87,0.82,0.72,0.42,0.9,0.37,0.2,0.55,0.58,0.72,0.69,0.14,0.6,0.39,0.09,0.83,0.62,0.56,0.83,0.94,0.24,0.68,0.64,0,0.07,0.76,0.45,0.58,0.59,0.78,0.7,0.41,0.23,0.84,0.48,0.92,0.7,0.58,0.67,0.6,0.57,0.99,0.07,0.5,0.09,0.51,0.88,0.85,0.81,0.18,0.69,0.84,0.57,0.54,0.75,0.59,0.76,0.13,0.29,0.68,0.6,0.55,0.56,0.81,0.76,0.57,0.65,0.38,0,0.41,0.63,0.43,0.27,0.66,0.53,0.63,0.25,0.41,0.23,0.48,0.28],"Potential new homes":[0.54,0.72,0.81,0.71,0.69,0.98,0.62,0.87,0.12,0.81,0.73,0.86,0.65,0.75,0.94,0.67,0.29,0,0.96,0.8,0.68,0.89,0.8,0.93,0.92,0.98,0.77,0.59,0.68,0.86,0.71,0.82,0.43,0.86,0.77,0.68,0.84,0.64,0.46,0.73,0.64,0.4,0.19,0.6,0.76,0.61,0.4,0.75,0.87,0.72,0.32,0.57,1,0.88,0.78,0.54,0.64,0.63,0.93,0.7,0.48,0.37,0.79,0.58,0.65,0.25,0.47,0.53,0.76,0.15,0.41,0.66,0.7,0.64,0.23,0.85,0.72,0.43,0.44,0.62,0.67,0.51,0.71,0.85,0.42,0.65,0.52,0.56,0.58,0.41,0.93,0.68,0.71,0.41,0.44,0.6,0.25,0.57,0.48,0.1,0.69,0.41,0.61,0.35,0.83,0.41,0.6,0.62,0.07,0.14,0.33,0.98,0.72,0.65,0.44,0.61,0.96,0.64,0.8,0.46,0.78,0.4,0.34,0.67,0.52,0.43,0.93,0.47,0.53,0.03,0.35,0.66,0.67,0.6,0.19,0.56,0.77,0.58,0.42,0.4,0.4,0.61,0.05,0.16,0.38,0.44,0.44,0.25,0.48,0.57,0.34,0.2,0.22,0.08,0.14,0.22,0.25,0.07,0.24,0.42,0.15,0.23,0.27,0.01,0.18,0.05],"Train frequency":[0.21,0.21,0.21,0.17,0.22,0.07,0.22,0.22,0.45,0.05,0.22,0.22,0.23,0.68,0.07,0.05,0.22,0.9,0.07,0.18,0.25,0.11,0.21,0.22,0.22,0.07,0.22,0.05,0.22,0.21,0.11,0.22,0.23,0.22,0.21,0.22,0.47,0.53,0.59,0.11,0.17,0.05,0.45,0.17,0.07,0.23,0.22,0.2,0.05,0.21,0.58,0.23,0.26,0.22,0.22,1,0.11,0.19,0.08,0.19,0.37,0.19,0.18,0.17,0.22,0.45,0.26,0.22,0.25,0.61,0.6,0.18,0.34,0.58,0.05,0.47,0.22,0.17,0.18,0.31,0.43,0.34,0.19,0.47,0.05,0.18,0.22,0.19,0.2,0.21,0.12,0.25,0.25,0.04,0.2,0.41,0.26,0.11,0.51,0.05,0.25,0.19,0.11,0.22,0.26,0.25,0.17,0.08,0.6,0.05,0.34,0.11,0.47,0.25,0.04,0.22,0.11,0.02,0.25,0.24,0.11,0.04,0.47,0.25,0.4,0.22,0.1,0.02,0.18,0.05,0.42,0.22,0.25,0.02,0.25,0,0.44,0.48,0.25,0.32,0.4,0.24,0.2,0.2,0.02,0.44,0.24,0.04,0.43,0.23,0.2,0.02,0.21,0.02,0.21,0.21,0.18,0.22,0.15,0.24,0.15,0.24,0.33,0.15,0.23,0.23],"Line Capacity":[-0,-0,-0,-0.22,-0.54,-0.02,-0.54,-0.14,-0.43,-0.28,-0.14,-0,-0.54,-0.37,-0.02,-0.28,-0.14,-0.59,-0.02,-0.22,-0.92,-0.32,-0,-0,-0.32,-0.02,-0.14,-0.28,-0.14,-0,-0.32,-0.54,-0.54,-0.14,-0.32,-0.32,-0.95,-0.37,-0.55,-0.32,-0.22,-0.28,-0.43,-0.22,-0.02,-0.54,-0.14,-0,-0.02,-0,-0.34,-0.14,-0.55,-0.54,-0.54,-0.63,-0.32,-0.22,-0.32,-0.22,-0,-0.39,-0.22,-0.22,-0.54,-0.43,-0.37,-0.54,-0.92,-0.43,-0.43,-0.22,-0.63,-0.55,-0.28,-0.95,-0.32,-0.22,-1,-0,-0.55,-0,-0.22,-0.95,-0.28,-0.32,-0.14,-0.22,-0.39,-0.14,-0.55,-0.37,-0.92,-0.28,-0,-0.55,-0.34,-0.32,-0.39,-0.28,-0.92,-0,-0.32,-0.14,-0.92,-0.92,-0.32,-0.32,-0.43,-0.28,-0,-0.55,-0.95,-0.92,-0.28,-0.54,-0.55,-0.14,-0.92,-1,-0.38,-0.28,-0.95,-0.92,-0.55,-0.54,-0.73,-0.14,-1,-0.28,-0.55,-0.92,-0.92,-0.64,-0.92,-0.32,-0.95,-0.95,-0.92,-0.64,-0.55,-1,-0.39,-0.39,-0.64,-0.95,-1,-0.28,-0.95,-1,-0.54,-0.64,-0.54,-0.14,-0.54,-0.54,-1,-0.54,-0.64,-1,-0.64,-1,-0.95,-0.64,-0.92,-0.92],"Distance to CBD":[-0.12,-0.2,-0.17,-0.33,-0.22,-0.36,-0.33,-0.33,-0.06,-0.24,-0.23,-0.45,-0.26,-0.28,-0.39,-0.3,-0.11,-0.19,-0.33,-0.37,-0.24,-0.35,-0.38,-0.42,-0.45,-0.41,-0.37,-0.21,-0.2,-0.48,-0.18,-0.38,-0.3,-0.41,-0.31,-0.39,-0.41,-0.2,-0.52,-0.2,-0.29,-0.18,-0.04,-0.25,-0.42,-0.19,-0.14,-0.62,-0.33,-0.51,-0.09,-0.28,-0.44,-0.48,-0.44,-0.33,-0.15,-0.72,-0.7,-0.41,-0.71,-0.21,-0.68,-0.21,-0.15,-0.03,-0.15,-0.13,-0.2,-0.07,-0.11,-0.6,-0.26,-0.62,-0.14,-0.49,-0.52,-0.16,-0.23,-0.86,-0.59,-0.8,-0.54,-0.44,-0.34,-0.61,-0.52,-0.47,-0.23,-0.58,-0.32,-0.23,-0.29,-0.4,-0.55,-0.78,-0.05,-0.27,-0.27,-0.11,-0.38,-0.67,-0.24,-0.46,-0.44,-0.14,-0.7,-0.78,-0,-0.1,-0.94,-0.37,-0.54,-0.32,-0.43,-0.68,-0.39,-0.28,-0.51,-0.46,-1,-0.5,-0.61,-0.32,-0.72,-0.62,-0.98,-0.28,-0.25,-0.12,-0.92,-0.7,-0.55,-0.55,-0.12,-0.93,-1,-0.7,-0.6,-0.7,-0.86,-0.59,-0.12,-0.25,-0.5,-0.87,-0.65,-0.66,-0.92,-0.71,-0.89,-0.46,-0.55,-0.27,-0.82,-0.99,-0.34,-0.76,-0.98,-0.85,-0.74,-0.5,-0.8,-0.8,-0.97,-0.8],"Other transport connections":[0.68,0.7,0.57,0.62,0.53,0.16,0.5,0.14,0.46,0.45,0.38,0.16,0.46,0.45,0.13,0.39,0.44,0.75,0.29,0.32,1,0.29,0.11,0.09,0.11,0.02,0.12,0.49,0.29,0.08,0.28,0.44,0.56,0.06,0.11,0.21,0.5,0.27,0.69,0.13,0.41,0.53,0.36,0.42,0.05,0.52,0.35,0.11,0.31,0.09,0.28,0.32,0.23,0.12,0.27,0.16,0.53,0.38,0.14,0.28,0.24,0.56,0.12,0.32,0.52,0.17,0.59,0.51,0.58,0.27,0.35,0.12,0.54,0.19,0.56,0.26,0.08,0.44,0.73,0.07,0.26,0.09,0.11,0.09,0.41,0.07,0.06,0.12,0.16,0.06,0.31,0.13,0.54,0.52,0.06,0.43,0.35,0.15,0.11,0.61,0.15,0.2,0.1,0,0.05,0.45,0.12,0.16,0.19,0.43,0.09,0.03,0.15,0.35,0.09,0.13,0.04,0.09,0.1,0.61,0.07,0.09,0.63,0.12,0.19,0.25,0.05,0.1,0.26,0.47,0.37,0.15,0.03,0.01,0.27,0.07,0.02,0.08,0.34,0.02,0.09,0.05,0.12,0.07,0.05,0.02,0.2,0.07,0,0.05,0.09,0.05,0.1,0.03,0.21,0.06,0.12,0.24,0.15,0.15,0.03,0.07,0.06,0.25,0.06,0.14],"Local Amenities":[0.49,0.15,0.13,0.21,0.43,0.09,0.54,0.11,1,0.27,0.31,0.15,0.48,0.2,0.09,0.34,0.57,0.61,0.12,0.13,0.28,0.12,0.06,0.09,0.06,0.1,0.14,0.4,0.29,0.1,0.19,0.05,0.7,0.11,0.15,0.33,0.39,0.42,0.35,0.17,0.17,0.6,0.78,0.16,0.14,0.37,0.4,0.08,0.14,0.1,0.24,0.17,0.19,0.12,0.2,0.14,0.24,0.29,0.2,0.12,0.21,0.47,0.19,0.14,0.4,0.69,0.27,0.53,0.21,0.57,0.33,0.15,0.14,0.21,0.49,0.12,0.07,0.07,0.59,0.06,0.15,0.22,0.07,0.33,0.27,0.2,0.06,0.13,0.28,0.15,0.14,0.35,0.14,0.11,0.08,0.15,0.35,0.12,0.09,0.46,0.27,0.15,0.06,0.03,0.11,0.5,0.22,0.36,0.31,0.44,0.15,0.07,0.29,0.11,0.06,0.24,0.1,0.1,0.1,0.33,0.15,0.16,0.11,0.07,0.1,0.19,0.13,0.25,0.25,0.17,0.24,0.11,0.03,0.1,0.48,0.26,0.19,0.26,0.24,0.1,0.13,0.12,0.18,0.08,0.11,0.42,0.32,0.02,0.08,0,0.13,0.05,0.03,0.13,0.14,0.14,0.03,0.16,0.06,0.15,0.03,0.2,0.1,0.03,0.07,0.12],"score":[2.12,2,1.97,1.76,1.74,1.71,1.65,1.65,1.65,1.64,1.62,1.62,1.62,1.62,1.61,1.6,1.59,1.59,1.58,1.58,1.58,1.57,1.54,1.54,1.54,1.53,1.5,1.48,1.48,1.47,1.47,1.47,1.47,1.46,1.46,1.45,1.44,1.44,1.42,1.42,1.41,1.41,1.41,1.4,1.38,1.37,1.36,1.35,1.34,1.34,1.33,1.33,1.33,1.32,1.32,1.32,1.31,1.3,1.29,1.29,1.28,1.25,1.23,1.23,1.23,1.21,1.2,1.18,1.18,1.18,1.18,1.16,1.14,1.13,1.12,1.1,1.1,1.1,1.09,1.09,1.08,1.07,1.07,1.06,1.05,1.04,1.03,1.03,1.02,1.01,1.01,1,0.98,0.97,0.96,0.96,0.96,0.95,0.91,0.91,0.9,0.9,0.87,0.84,0.83,0.79,0.77,0.77,0.75,0.74,0.74,0.72,0.72,0.71,0.7,0.69,0.67,0.67,0.67,0.66,0.65,0.61,0.56,0.54,0.53,0.5,0.5,0.48,0.47,0.41,0.41,0.4,0.36,0.34,0.33,0.33,0.32,0.31,0.28,0.26,0.2,0.18,0.17,0.16,0.11,0.1,0.09,0.01,-0.07,-0.09,-0.09,-0.12,-0.14,-0.15,-0.26,-0.27,-0.33,-0.34,-0.35,-0.36,-0.39,-0.51,-0.58,-0.76,-0.87,-0.89]},"columns":[{"id":"station","name":"Station","type":"character","filterable":true},{"id":"Zoning suitability","name":"Zoning suitability","type":"numeric"},{"id":"Potential new homes","name":"Potential new homes","type":"numeric"},{"id":"Train frequency","name":"Train frequency","type":"numeric"},{"id":"Line Capacity","name":"Line Capacity","type":"numeric"},{"id":"Distance to CBD","name":"Distance to CBD","type":"numeric"},{"id":"Other transport connections","name":"Other transport connections","type":"numeric"},{"id":"Local Amenities","name":"Local Amenities","type":"numeric"},{"id":"score","name":"score","type":"numeric"}],"defaultSortDesc":true,"defaultSorted":[{"id":"score","desc":true}],"theme":{"color":"#3e3f3a","backgroundColor":"#ffffff","borderColor":"#f8f5f0","borderWidth":"1px","stripedColor":"#ededed","highlightColor":"#f8f5f0","cellPadding":6,"tableStyle":{"fontSize":15},"headerStyle":{"borderWidth":"2px","backgroundColor":"#f8f5f0","color":"#7c7a78","transitionDuration":"0.5s","&:hover[aria-sort]":{"color":"#000000"},"&[aria-sort='ascending'], &[aria-sort='descending']":{"color":"#000000"},"fontSize":16},"groupHeaderStyle":{"&:not(:empty)":{"color":"#3e3f3a","fontSize":16},"&:hover":{"fontWeight":"bold","transitionDuration":"1s","transitionTimingFunction":"ease-out","color":"#000000"}},"rowSelectedStyle":{"backgroundColor":"#dfd7ca","color":"#8e8c84"},"inputStyle":{"backgroundColor":"#ffffff","borderColor":"#bcbfc1","color":"#3e3f3a"},"searchInputStyle":{"backgroundColor":"#ffffff","color":"#3e3f3a","borderColor":"#bcbfc1","&:focus":{"color":"#3e3f3a"}},"selectStyle":{"backgroundColor":"#dfd7ca","color":"#8e8c84","borderColor":"#ffffff","outlineColor":"#ffffff"},"pageButtonStyle":{"backgroundColor":"#f8f5f0","color":"#8e8c84","&:hover":{"backgroundColor":"#f3969a","color":"#8e8c84"}},"pageButtonHoverStyle":{"backgroundColor":"#dfd7ca","color":"#8e8c84"},"pageButtonActiveStyle":{"backgroundColor":"#dfd7ca","color":"#8e8c84"},"pageButtonCurrentStyle":{"backgroundColor":"#dfd7ca","color":"#8e8c84"}},"dataKey":"18ed2cb000c59a1b23221bae830e3bff"},"children":[]},"class":"reactR_markup"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</div>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>