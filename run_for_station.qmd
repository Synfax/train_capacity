---
title: "Station Capacity"
author: "Paul S"
date: "6/6/24"
params: 
  station: "Brunswick"
format: 
  html: 
    theme: zephyr
    fig-width: 8
    fig-height: 8
    code-fold: false
    toc: true
    toc-depth: 4
    toc-location: left
    page-layout: full
---

output `{r} params$station `

todo: what line does the station serve (could be multiple?)

where does this station rank within its line? where does it rank in the overall network?

when is this station busiest? 

## Life Expectancy in `r params$station`

```{r, results='hide', warning=FALSE,message=FALSE}

library(knitr)
library(tidyverse)

dynamic_label <- "dynamic_chunk_" %>% paste0(params$station)
knitr::opts_chunk$set(label = "dynamic_label")



station = params$station

hourly_factors = readRDS('r_objects/hourly_factors.Rdata')

to_plot <- hourly_factors %>% filter(Station_Name == station)
  
p <- ggplot(to_plot, mapping = aes(x = hour_of_day, y = avg_patronage)) + geom_point()
  
p + facet_grid(rows = vars(dir)) + theme_bw(base_size = 15)

```